# IBC Configuration for IBKR Gateway
# Documentation: https://github.com/IbcAlpha/IBC/blob/master/userguide.md
#
# This file configures IBC to automate IB Gateway login and management.
# Most settings use environment variables from docker-compose.yml

# =============================================================================
# Login Settings
# =============================================================================

# Trading mode is set via TWS_TRADINGMODE environment variable
# TradingMode=paper

# Fix IBKR API to specific version (optional, not recommended)
# FIX=no

# =============================================================================
# Security Settings
# =============================================================================

# Accept incoming API connections (required for our bot)
AcceptIncomingConnectionAction=accept

# Allow connections from any host (within Docker network)
IpAllowList=*

# Accept non-brokerage account warning
AcceptNonBrokerageAccountWarning=yes

# =============================================================================
# Auto-Restart Settings
# =============================================================================

# IBKR forces a daily restart. Auto-restart before that happens.
# Restart at 11:45 PM local time (before IBKR's ~midnight restart)
AutoRestartTime=23:45

# Close down IB Gateway cleanly on weekends (saves resources)
# ClosedownAt=Saturday 00:00

# =============================================================================
# Dialog Handling
# =============================================================================

# Automatically handle various IBKR dialogs
DismissPasswordExpiryWarning=yes
DismissNSEComplianceNotice=yes
ExistingSessionDetectedAction=primary
OverrideTwsApiPort=no
SuppressInfoMessages=yes

# =============================================================================
# Logging
# =============================================================================

# Log to stdout for Docker logging
LogToConsole=yes
